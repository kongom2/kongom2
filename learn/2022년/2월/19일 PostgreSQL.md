# GraphQLì„ ìœ„í•œ PostgreSQL

# Database, ë°ì´í„°ë² ì´ìŠ¤

- ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œì—ì„œ ì „ìì ìœ¼ë¡œ ì €ì¥ë˜ê³  ì—‘ì„¸ìŠ¤ë˜ëŠ” ì •ë¦¬ëœ ë°í‹°ì–´ ì»¬ë ‰ì…˜ì´ë‹¤.
- ì›¹ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì—¬ëŸ¬ëª…ì´ ë°ì´í„°ì— ì ‘ê·¼í•˜ê³ , ë³€ê²½í•˜ëŠ”ê²Œ ëª©ì 
- ë³¸ê²©ì ìœ¼ë¡œ ë°±ì—”ë“œ, ë‚œì´ë„ ê¸‰ìƒìŠ¹
- ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì“°ì§€ì•Šê³ ë„ ì›¹ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- ì»´ê³µ ê¸°ì¤€ í”„ë¡œì íŠ¸ë¥¼ í–ˆë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê¸°ë³¸

# PostgreSQL, í¬ìŠ¤íŠ¸ê·¸ë˜ìŠ¤íì—˜

- psql ë˜ëŠ” postgresë¼ê³ ë„ í•¨
- ë¶ë¯¸ 2ìœ„ ë°ì´í„° ë² ì´ìŠ¤ (1ìœ„ëŠ” ì˜¤ë¼í´)
- SQLì„ ì‚¬ìš©í•˜ëŠ” ê´€ê³„í˜• ë°ì´í„° ë² ì´ìŠ¤ (RDBMS)
- ë¬´ë£Œ

# SQL, Structured Query Language

- êµ¬ì¡°í™”ëœ ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ê³ ì•ˆëœ ì»´í“¨í„° ì–¸ì–´
- RDBMSì— ì“°ì„
- Excel vs RDBMS

|              | Excel    | RDBMS           |
| ------------ | -------- | --------------- |
| ìš©ëŸ‰         | 65,000í–‰ | 100ì–µ ê°€ëŠ¥      |
| ì†ë„         | ëŠë¦¼     | ë¹ ë¦„            |
| CLIë¡œ ìë™í™” | ì–´ë ¤ì›€   | SQLë¡œ ì‰½ê²Œ êµ¬í˜„ |

# ORACLE, ì˜¤ë¼í´

- ì ìœ ìœ¨ ì„¸ê³„ 1ìœ„
- ê¸°ì—…ì—ì„  ìœ ë£Œ ë²„ì „ ì‚¬ìš©
- ì‚¬ìš©ì´ìœ 
  1. ê³ ê¸‰ê¸°ëŠ¥ê³¼ ê¸°ìˆ ì§€ì›
  2. ì¸ë ¥ìˆ˜ê¸‰ì´ ì‰¬ì›€
  3. ë˜í¼ëŸ°ìŠ¤ê°€ ë§ì•„ ì˜¤ë¥˜ìˆ˜ì • ìš©ì´
  4. ì´ì¤‘í™”ë¡œ ì¸í•œ ë°ì´í„° ì•ˆì •ì„±

# DBìˆ˜ì—… ì§„í–‰ ë°©ì‹

- SQLì˜ ê½ƒ, JOINì´ ì—†ë‹¤.
- WSL, .ë¦¬ëˆ…ìŠ¤ë¡œ ì§„í–‰í•œë‹¤.
- TablePlus ë¼ëŠ” ì‰¬ìš´ íˆ´ì„ ì‚¬ìš©í•œë‹¤.
- DBì˜ ê½ƒ ERDë¥¼ ë§Œë“¤ì–´ ë³¼ê²ƒì´ë‹¤.

# â­ìœˆë„ìš°ì— ë¦¬ëˆ…ìŠ¤ë¥¼ ê¹”ê²ƒì´ë‹¤

íŒŒì¼í™•ì¥ëª…ê³¼ ìˆ¨ê¸´í•­ëª©ì´ ëœ¨ê²Œ í•˜ì.

### ìœˆë„ìš°ì¦ˆ ì—…ë°ì´íŠ¸

- ì¬ë¶€íŒ… í›„ ì—¬ëŸ¬ë²ˆ í™•ì¸
- ì„ íƒ ì—…ë°ì´íŠ¸ë„ ëª¨ë‘ í•  ê²ƒ.

### ìˆ¨ê¹€íŒŒì¼ ë° í™•ì¥ì í‘œì‹œ

### ìœˆë„ìš°ì¦ˆ í„°ë¯¸ë„ (í™”ë©´ê³ ì •, ë°”íƒ•í™”ë©´)

chocolatey

vscode

wsl2ìˆ˜ë™ì„¤ì¹˜

vscodeí‚¤ê³  wsl extention

code ëª…ë ¹ì–´ë¡œ vscode-server ì„¤ì¹˜

ë¯¸ëŸ¬ harukasanìœ¼ë¡œ ë°”ê¿”ì£¼ê¸°

ê¸°ë³¸ ìˆœì„œ íŒŒì›Œì…€ ë§ê³  ìš°ë¶„íˆ¬ë¡œ

sudo apt update

sudo apt install zsh

oh my zsh

ê¸°ë³¸ ì…€ ë³€ê²½

ì‹¤íŒ¨ì‹œ ìˆ˜ë™ë³€ê²½

êµ¬ê¸€ë§ install nodejs ubuntu

its ë²„ì „ì´ë€?

nodejs ì„¤ì¹˜

sudo npm install -g npm

sudo apt upgrade

### ubuntu ì•„ì´ë”” íŒ¨ìŠ¤ì›Œë“œ

kongom2/kongom2

cd /

cd mnt

ls -al â‡’ ìš°ë¶„íˆ¬ í™•ì¸

cd ~

pwd â‡’ í˜„ì¬ ë””ë ‰í† ë¦¬

change user password ubuntu

ë””ë¹„ëŠ” í”„ë¡ íŠ¸ì—ì„œ ê°€ì ¸ì˜¬ ë•Œ ì˜ë¯¸ê°€ ìˆë‹¤.

[https://tableplus.com/](https://tableplus.com/)

# í”„ë¡œê·¸ë˜ë°ì˜ ë³¸ì§ˆ

### Group

ì„œë¡œ ì—°ê´€ë˜ëŠ” ê²ƒë“¤ì˜ ì§‘í•©

ê°ì²´, í”„ë¡œê·¸ë¨, í•¨ìˆ˜, ë°ì´í„°, í…Œì´ë¸”

RDB Modelingì„ í•  ì˜ˆì •

Run / Debug

### \l â‡’ DB ë¦¬ìŠ¤íŠ¸ ì¶œë ¥

CREATE DATABASE test í…ŒìŠ¤íŠ¸ë¼ëŠ” ë””ë¹„ìƒì„±

### \c test â‡’ testì— ì—°ê²°

CREATE DATABASE person (person ì´ë¼ëŠ” table ìƒì„±)

### \d â‡’ ì—°ê²°ëœ DBì˜ ì „ì²´ í…Œì´ë¸” í™•ì¸

### \d person â‡’ ì—°ê²°ëœ DB ì¤‘ personì˜ ì»¬ëŸ¼ í™•ì¸

ğŸŒŸë°˜ë“œì‹œ ë§¨ ë§ˆì§€ë§‰ì— ì„¸ë¯¸ì½œë¡ ì„ ë¶™ì—¬ì¤˜ì•¼ í•¨.

# Postgres ì£¼ìš” ë°ì´í„° íƒ€ì… 6ê°€ì§€

postgresql data type

```sql
CREATE TABLE person (
    id SERIAL NOT NULL PRIMARY KEY,
    name TEXT NOT NULL,
    gender TEXT NOT NULL,
    date_of_birth DATE NOT NULL,
    email TEXT,
    create_at TIMESTAMPTZ DEFAULT now()
);
```

- INT : ì •ìˆ˜
- SERIAL : ì‹œí€€ìŠ¤ ìˆ«ì
- TEXT : ë¬¸ìì˜
- BOOL : true or false
- DATE : ë‚ ì§œ
- TIMESTAMPTZ : íƒ€ì„ì¡´ì´ í¬í•¨ëœ ë‚ ì§œ ë° ì‹œê°„

â‡’ ë§Œì•½ í˜„ì¬ ì‹œê°„ì´ í•„ìš”í•˜ë©´ now()

sudo service postgresql start

sudo -u postgres psql

# READ : SELECT

### í…Œì´ë¸”ì˜ ëª¨ë“  ë‚´ìš© ë³´ê¸°

SELECT _ FROM person; â‡’ _ ëŠ” ëª¨ë“  ì»¬ëŸ¼ ì˜ë¯¸

### ì—´ ì œí•œ

SELECT id, name, gender FROM person;

### í–‰ ì œí•œ

SELECT \* person WHERE id > 1;

SELECT \* person WHERE id â‰¥ 1;

SELECT \* person WHERE id â‰¥ 1;

### ì •ë ¬

SELECT \* FROM person ORDER BY create_at; â‡’ ASCê°€ ë””í´íŠ¸, ë°˜ëŒ€ëŠ” DESC

# UPDATE

ë°˜ë“œì‹œ WHEREë¥¼ ê°™ì´ ì¨ì•¼ í•œë‹¤.

```sql
UPDATE person
    SET
        name = "kongom2coding",
        gender = "men"
    WHERE
        id = 1;
```

# DELETE, DROP

DBì—ì„  í•­ìƒ ì‚­ì œí•˜ê¸°ì „ì—, ë‹¤ì‹œ í•œ ë²ˆ í™•ì¸í•˜ëŠ” ìŠµê´€ì„ ê°€ì ¸ì•¼ í•¨.

# RDB, Relational Database ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤

í…Œì´ë¸”ê°„ì˜ ê´€ê³„ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.

PostgerSQL, SQLite, MySQL, MariaDB, Oracle, MSSQL

MongoDB, CassandraëŠ” ê´€ê³„í˜•ì´ ì•„ë‹˜ NoSQL

### í…Œì´ë¸”ì„ ì—¬ëŸ¬ê°œ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

1. ì¤‘ë³µ ë°œìƒ
2. Null ë°œìƒ

### key ê°€ ë‘ê°œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

PK, Primary key ì£¼í‚¤

FK, Foreign key ì™¸ë˜í‚¤

â¡ï¸ ì´ ë‘ê°œë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ê´€ê³„ë¥¼ í˜•ì„±í•œë‹¤.

### â­ RDB Modeling ì´ë€?

í˜„ì‹¤ì˜ ë¬¸ì œë¥¼ í‘œë¡œ ì¶”ìƒí™” ì‹œí‚¤ëŠ” ê³¼ì •

### Modeling ì ˆì°¨

1. UI ì‘ì„±ì„ í†µí•œ ì—…ë¬´ íŒŒì•…
2. Entity Relational Diagram (ERD) ì„¤ê³„ â­
3. ERDë¥¼ Tableë¡œ ë³€í™˜

### UI ì‘ì„±ì„ í†µí•œ ì—…ë¬´íŒŒì•…

ìƒê°ì„ ë¬¸ì„œí™” í•˜ê³ , ê·¸ë ¤ë³´ê³ , ê°€ìƒìœ¼ë¡œ ì‘ë™ì‹œì¼œë³´ì!

### ERD, Entity Relational Diagram ì´ì•Œë””

Entityì™€ Entity ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ê²ƒ!

### Entity ê°œì²´

í•˜ë‚˜ì˜ ì£¼ì œ, ê·¸ë£¹

ë‚˜ì¤‘ì— table ì´ë¦„ì´ ë¨ (ex. ê¸€í…Œì´ë¸”, ìœ ì €í…Œì´ë¸”, ëŒ“ê¸€í…Œì´ë¸”)

### Attribute (field) ì†ì„±

Entityì˜ í•˜ìœ„ í•­ëª©ë“¤ì´ë©°, ì‹¤ì œ ë°ì´í„°

ë‚˜ì¤‘ì— Columnì´ ë¨

### LucidChart, ERD ì„¤ê³„ íˆ´

[Lucid Chart í™ˆí˜ì´ì§€](https://www.lucidchart.com/pages/landing?utm_source=google&utm_medium=cpc&utm_campaign=_chart_ol_allcountries_mixed_search_brand_exact_&km_CPC_CampaignId=12085501855&km_CPC_AdGroupID=117687297058&km_CPC_Keyword=lucidchart&km_CPC_MatchType=e&km_CPC_ExtensionID=&km_CPC_Network=g&km_CPC_AdPosition=&km_CPC_Creative=491660231431&km_CPC_TargetID=kwd-33511936169&km_CPC_Country=1009879&km_CPC_Device=c&km_CPC_placement=&km_CPC_target=&gclid=Cj0KCQiApL2QBhC8ARIsAGMm-KHs8eHrilsN_seyCYhz52rj3nbck1lFv7tMOWhsNN21lKnIwwKsZY8aAnsSEALw_wcB)

### Foreign Keyë¥¼ ì–´ë””ì— ë‘˜ê¹Œ?

+â€”â€”<, one to many â¡ï¸ ë§ì€ ìª½ (ex. íœ´ë©´ ì„¤ì •)

+â€”â€”+, one to one â¡ï¸ ì˜ì¡´ì„±ì„ ë”°ì ¸ì•¼ í•¨. ëˆ„ê°€ ëª¸í†µì¼ì§€

\>-ã…-<, many to many â¡ï¸ ë¸Œë¦¿ì§€, ë§¤í•‘ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•¨ (ex. ìƒí’ˆ ì£¼ë¬¸)

![ERDì„¤ê³„](https://i.ibb.co/kqXPWhL/ERD.png)

Entity, ê°œì²´
