# **전역변수의 문제점**

### **지역변수의 생명주기**

변수에도 생명 주기가 있다. 만약 생명 주기가 없다면 프로그램을 종료하지 않는 한 영원히 메모리 공간을 점유하게 된다.
전역 변수의 생명 주기는 프로그램이 실행되서 종료될 때 까지로 볼 수 있다. 그러나 함수 내부에 선언된 지역 변수는 함수가 호출되면 생성되고 함수가 종료하면 소멸한다.

```
function foo() {
  var x = 'local';
  console.log(x); // local
  return x;
}

foo();
console.log(x); // ReferenceError: x is not defined
```

위처럼 함수 내에서 선언된 변수를 함수 밖에서 접근하려 하면 에러가 발생한다.
함수 내에서 선언된 변수는 함수가 실행할 때 생성되고 함수 실행이 종료되면 소멸하기 때문이다.
따라서 함수 내부에서 선언된 지역 변수 x는 foo 함수가 호출되어 실행되는 동안에만 유효하다. 즉, 지역 변수의 생명 주기는 함수의 생명 주기와 일치한다.
그리고 호이스팅은 전역 공간 뿐만 아니라 함수 스코프 안에서도 동작한다.
